{"name":"Qgis-server-install","tagline":"qgis server installation procedure","body":"#QGIS Server and QGIS WebClient installation procedure (Based on Windows 7, August 2014)#\r\n<br/>\r\n\r\n\r\n\r\n##CONTENTS##\r\n* Install QGIS Server\r\n* Edit config file / Modify file extention\r\n* QGIS server validation\r\n* Download & install QGIS WebClient\r\n* References\r\n\r\n##INSTALL QGIS Server##\r\n\r\n1. Download OSGeo4W installer from [HERE]\r\n2. I have downloaded the 32-bit version although running a 64-bit machine.\r\n3. Execute the file and follow the prompt.\r\n  - Select advanced Install, **NEXT**\r\n  - Select Install from internet, **NEXT**\r\n  - Accept the default (unless you want to change), **NEXT**\r\n  - Accept the default (unless you want to change), **NEXT**\r\n  - Select connection option (I've used 'Direct connection'), **NEXT**\r\n  - Select available download sites: Should only one available **NEXT**\r\n  - Once you get to the 'Select packages' window, select the following options (All other dependencies will be automatically selected and installed).\r\n    - Under DESKTOP, select `qgis: QGIS Desktop` & `qgis-dev: QGIS nightly build of the master`\r\n    ![alt text](https://cloud.githubusercontent.com/assets/8164012/3790271/e8c9bb06-1af4-11e4-9ee7-fa122374970e.png)\r\n    - Under WEB, select `Apache Webserver` & `qgis-server: QGIS Server`\r\n    ![alt text](https://cloud.githubusercontent.com/assets/8164012/3790272/eaf76838-1af4-11e4-9e37-f5f15b76eec8.png)\r\n\r\n##EDIT CONFIG FILE##\r\n\r\n####1. EDIT httpd_qgis.conf####\r\n:This is required because QGIS on windows seems not to work as FastCGI<br/>\r\n  * Locate the following file and open in text editor.<br/>\r\n    `c:\\osgeo4w\\httpd.d\\httpd_qgis.conf`<br/>\r\n  * Change the following lines of code<br/>\r\n```\r\nLoadModule fcgid_module modules/mod_fcgid.so\r\nto\r\nLoadModule cgi_module modules/mod_cgi.so\r\n```\r\n```\r\nDefaultInitEnv\r\nto\r\nSetEnv\r\n```\r\n\r\n####2. CHANGE qgis_mapserv.fcgi.exe####\r\n: This is required because the QGIS WebClient which you will install later, can NOT address *.exe files, although \tthe QGIS Server could.<br/>\r\n  * Locate the following file.<br/>\r\n    `c:\\OSGeo4W\\apps\\qgis\\bin\\qgis_mapserv.fcgi.exe`<br/>\r\n  * Delete the extention of the file so that it looks like the following.<br/>\r\n    `c:\\OSGeo4W\\apps\\qgis\\bin\\qgis_mapserv.fcgi`\r\n\r\n###QGIS Server VALIDATION###\r\n: This step will validate the installation of QGIS server.<br/>\r\n  * Type the following URL to your web browser.<br/>\r\n    `http://localhost/qgis/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities`\r\n  * If you receive XML formatted information on your browser, this means your QGIS server has been installed correctly.<br/>\r\n  * (OPTIONAL) You will receive a map image by sending `GetMap` request  as URL shown below (if you have a QGIS project on your machine).<br/>\r\n    `http://localhost/qgis/qgis_mapserv.fcgi?SERVICE=WMS&VERSION=1.3.0&SRS=EPSG:31467&REQUEST=GetMap&map=C:/path-to-a-simple-qgis-project.qgs&WIDTH=1000&HEIGHT=800&LAYERS=weg,bach&FORMAT=image/png`\r\n  \r\n###DOWNLOAD & INSTALL QGIS WebClient###\r\n####1. What is QGIS WebClient & why do you need it?####\r\n  * Under construction\r\n\r\n####2. Download QGIS WebClient####\r\n  * Go to the following GitHub site: https://github.com/qgis/QGIS-Web-Client\r\n  * Download the project as ZIP file (there is a link to your right pane).\r\n  * Unzip the file to the following location.\r\n    `c:\\OSGeo4W\\apache\\htdocs`\r\n  * So you now have the QGIS WebClient files in: <br/>\r\n    `c:\\OSGeo4W\\apache\\htdocs\\QGIS-Web-Client-master`\r\n\r\n####3. Edit config file ####\r\n  * Locate the following file and open in the text editor.\r\n    `C:\\OSGeo4W\\apache\\conf\\httpd.conf`\r\n  * Go to the line 324 (approx.), and change the line of code as follows.\r\n```\r\nScriptAlias /cgi-bin/ \"C:\\OSGeo4W/bin/\"\r\nto\r\nScriptAlias /cgi-bin/ \"C:\\OSGeo4W/apps/qgis/bin/\"\r\n```\r\n####4. Restart Apache####\r\n  * You need to restart Apache everytime you make changes to the Apache config file.\r\n  * You can do this by:\r\n    `START MENU --> Programs --> OSGeo4W --> Apache`\r\n\r\n####5. Validate installation\r\n  * Enter the following URL in your web browser.\r\n    `http://localhost/QGIS-Web-Client-master/site/index.html`\r\n  * You will end up in the QGIS WebClient Default Client Landing Page. This means you have installed it correctly.\r\n  * If you have your own QGIS project on your machine, you can edit the above URL to point it to the project like:\r\n    `http://localhost/QGIS-Web-Client-master/site/qgiswebclient.html?map=C:/OSGeo4W/apache/htdocs/QGIS-Web-Client-master/projects/helloworld.qgs`\r\n\r\n\r\n\r\n##REFERENCES##\r\n  * http://anitagraser.com/2012/04/06/qgis-server-on-windows7-step-by-step/\r\n  * http://osgeo-org.1560.x6.nabble.com/QGIS-Web-Client-for-Windows-7-td5128712.html\r\n\r\n\r\n[HERE]:https://www.qgis.org/en/site/forusers/download.html\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}